function Notify(){function t(t,i){this.duration=.06,this.delay=0,this.reverse=!1,this.animations="",this.animationDisplay=function(){-1!=i.indexOf(" ")&&i.split(" ").forEach(i=>{-1!=i.indexOf("$direction")?(t.classList.add(i.replace("$direction",direction(t))),this.animations=i.replace("$direction",direction(t))):(this.animations=i,t.classList.add(this.animations))})},this.play=function(){this.animationDisplay(),t.style["animation-duration"]=this.duration+"s",t.style["animation-delay"]=this.delay+"s",t.addEventListener("animationend",()=>{-1!==i.indexOf(" ")?i.split(" ").forEach(i=>{t.classList.remove(i)}):t.classList.remove(i)})},this.apply=function(){return this.play()}}let i=0,e=0,n=[];const a=document.createElement("div");a.classList.add("notification-showall"),a.innerHTML='<div><b>Show all (<span class="all-notifications"></span>)</b></div></i>';const s=NotificationContainer.offsetHeight;let o={stacking:!0,init:function(){var t={};for(var i in this)this.hasOwnProperty(i)&&"origValues"!=i&&(t[i]=this[i]);this.origValues=t},reset:function(){for(var t in this.origValues)this[t]=this.origValues[t]}},l={head:"",body:"",footer:"",html:!0,delay:0,timeout:5,dismiss:!0,timebar:!0,pause:!0,init:function(){var t={};for(var i in this)this.hasOwnProperty(i)&&"origValues"!=i&&(t[i]=this[i]);this.origValues=t},reset:function(){for(var t in this.origValues)this[t]=this.origValues[t]}};this.configs=function(t){return Object.assign(o,t)},this.create=function(t){l.init(),Object.assign(l,t),this.template(),l.reset()},this.template=function(){const t=document.createElement("div");let e=!1;if(t.classList.add("notification"),t.classList.add("animate__animated","animate__fadeInUp"),l.head.length>0){const i=document.createElement("div"),e=document.createElement("div");i.classList.add("notification-header"),e.classList.add("notification-header-content"),this.inject(e,l.head),i.appendChild(e),t.appendChild(i)}if(l.body.length>0){const i=document.createElement("div"),e=document.createElement("div");i.classList.add("notification-body"),e.classList.add("notification-body-content"),this.inject(e,l.body),i.appendChild(e),t.appendChild(i)}if(l.footer.length>0){const i=document.createElement("div"),e=document.createElement("div");e.classList.add("notification-footer-content"),i.classList.add("notification-footer"),this.inject(e,l.footer),i.appendChild(e),t.appendChild(i)}if("null"!=typeof l.timeout||"Infinity"!=typeof l.timeout){let a=0,s=l.timeout;const d=document.createElement("div"),r=document.createElement("div");d.classList.add("notification-timebar-container"),r.classList.add("notification-timebar"),d.appendChild(r),!0===l.timebar&&t.lastElementChild.after(d);let c=setInterval(()=>{!1===e&&(a+=1),!0===l.timebar&&(r.style.width=a/s*100+"%"),a>s&&(clearInterval(c),t.style.shadow=null,t.classList.add("animate__animated","animate__fadeOutUp"),t.addEventListener("animationend",()=>{i-=t.offsetHeight,t.remove(),!0===o.stacking&&(n.pop(t),this.stack(t),this.ShowAllNotifications())}))},1e3);!0===l.pause&&(t.addEventListener("mouseover",()=>{e=!0}),t.addEventListener("mouseleave",()=>{e=!1}))}if(!0===l.dismiss){const i=document.createElement("span");i.classList.add("notification-close"),i.innerHTML='<i class="bi bi-x-lg"></i>',i.addEventListener("click",()=>{this.dismiss(t)}),t.firstElementChild.append(i),this.draggable(t)}NotificationContainer.querySelectorAll(".notification").length>0?NotificationContainer.firstElementChild.before(t):NotificationContainer.appendChild(t),!0===o.stacking&&(this.stack(t),this.ShowAllNotifications())},this.stack=function(t){if(i<0&&(i=0),i+=t.offsetHeight,i+150>=s){OverflowedBoundary=!0,e+=1;let t=NotificationContainer.querySelectorAll(".notification");if(e>0)for(let a=e;a>0;a--)i-=t[t.length-a].offsetHeight,t[t.length-a].remove(),t[t.length-a].classList.add("stacked-notification"),n.push(t[t.length-a]),e-=1}},this.ShowAllNotifications=function(){n.length>1?(a.querySelector(".all-notifications").innerHTML=n.length,a.addEventListener("click",()=>{n.forEach(t=>{NotificationContainer.appendChild(t),a.remove()}),n=[],i=0}),NotificationContainer.lastElementChild.after(a)):a.remove()},this.dismiss=function(i){i.style.shadow=null,i.classList.add("animate__animated","animate__fadeOutRight","animate__faster"),Array.prototype.forEach.call(i.children,(i,e)=>{0===e&&(e=.5);const n=new t(i,"animate__animated animate__fadeOutRight");n.duration=e,n.apply()}),i.addEventListener("animationend",()=>{i.remove()})},this.draggable=function(t){let i=!1,e=0,n=0,a=!1;t.addEventListener("mousedown",s=>{s.preventDefault(),a=!0,n=s.pageX,this.GetTransformation(t),t.addEventListener("mousemove",s=>{if(s.preventDefault(),i=!0,!0===a&&!0===i){let i=e+s.clientX-n;this.HandleDragging(t,s,i)}window.addEventListener("mouseup",function(){a=!1,i=!1})}),t.addEventListener("touchmove",i=>{n=i.touches[0].pageX,this.GetTransformation(t);let a=e+i.touches[0].pageX;this.HandleDragging(t,i,a),t.addEventListener("touchend",function(){t.removeEventListener("touchmove",i,!1)},!1)},!1)})},this.HandleDragging=function(t,i,e){if(t.classList.remove("animate__animated","animate__fadeInUp"),t.style.transform=`translate3d(${e}px, 0, 0)`,e>0||e<0){let i=1;e<0?i+=e/100:i-=e/100,Math.abs(i)>1&&this.dismiss(t),t.style.filter=`opacity(${i})`}},this.GetTransformation=function(t){if(-1!==t.style.transform.indexOf("(")&&-1!==t.style.transform.indexOf(")")){var i=t.style.transform.split("(")[1].split(")")[0];elementPositionX=parseInt(i.split(",")[0].split("px")[0].trim()),elementPositionY=parseInt(i.split(",")[1].split("px")[0].trim())}else elementPositionY=0,elementPositionX=0},this.inject=function(t,i){!1===l.html?t.textContent=i:t.innerHTML=i}}const NotificationContainer=document.querySelector(".notification-container"),Notification=new Notify;
