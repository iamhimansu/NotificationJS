function Notify(){let t=0,i=0,e=[];const n=document.createElement("div");n.classList.add("notification-showall"),n.innerHTML='<div><b>Show all (<span class="all-notifications"></span>)</b></div></i>';const a=NotificationContainer.offsetHeight;let o={stacking:!0,init:function(){var t={};for(var i in this)this.hasOwnProperty(i)&&"origValues"!=i&&(t[i]=this[i]);this.origValues=t},reset:function(){for(var t in this.origValues)this[t]=this.origValues[t]}},s={head:"",body:"",footer:"",html:!0,delay:0,duration:5,dismiss:!0,init:function(){var t={};for(var i in this)this.hasOwnProperty(i)&&"origValues"!=i&&(t[i]=this[i]);this.origValues=t},reset:function(){for(var t in this.origValues)this[t]=this.origValues[t]}};this.configs=function(t){return Object.assign(o,t)},this.create=function(t){s.init(),Object.assign(s,t),this.template(),s.reset()},this.template=function(){const i=document.createElement("div");if(i.classList.add("notification"),i.classList.add("animate__animated","animate__fadeInUp"),s.head.length>0){const t=document.createElement("div"),e=document.createElement("div");t.classList.add("notification-header"),e.classList.add("notification-header-content"),this.inject(e,s.head),t.appendChild(e),i.appendChild(t)}if(s.body.length>0){const t=document.createElement("div"),e=document.createElement("div");t.classList.add("notification-body"),e.classList.add("notification-body-content"),this.inject(e,s.body),t.appendChild(e),i.appendChild(t)}if(s.footer.length>0){const t=document.createElement("div"),e=document.createElement("div");e.classList.add("notification-footer-content"),t.classList.add("notification-footer"),this.inject(e,s.footer),t.appendChild(e),i.appendChild(t)}if(!0===s.dismiss){const t=document.createElement("span");t.classList.add("notification-close"),t.innerHTML='<i class="bi bi-x-lg"></i>',t.addEventListener("click",()=>{this.dismiss(i)}),i.firstElementChild.append(t),this.draggable(i)}setTimeout(()=>{i.style.shadow=null,i.classList.add("animate__animated","animate__fadeOutUp"),i.addEventListener("animationend",()=>{t-=i.offsetHeight,i.remove(),!0===o.stacking&&(e.pop(i),this.stack(i),this.ShowAllNotifications())})},1e3*s.duration),NotificationContainer.querySelectorAll(".notification").length>0?NotificationContainer.firstElementChild.before(i):NotificationContainer.appendChild(i),!0===o.stacking&&(this.stack(i),this.ShowAllNotifications())},this.stack=function(n){if(t+=n.offsetHeight,t+150>=a){OverflowedBoundary=!0,i+=1;let n=NotificationContainer.querySelectorAll(".notification");if(i>0)for(let a=i;a>0;a--)t-=n[n.length-a].offsetHeight,n[n.length-a].remove(),n[n.length-a].classList.add("stacked-notification"),e.push(n[n.length-a]),i-=1}},this.ShowAllNotifications=function(){e.length>1?(n.querySelector(".all-notifications").innerHTML=e.length,n.addEventListener("click",()=>{e.forEach(t=>{NotificationContainer.appendChild(t),n.remove()}),e=[],t=0}),NotificationContainer.lastElementChild.after(n)):n.remove()},this.dismiss=function(t){t.style.shadow=null,t.classList.add("animate__animated","animate__fadeOutRight","animate__faster"),Array.prototype.forEach.call(t.children,(t,i)=>{0===i&&(i=.5);const e=new Animation(t,"animate__animated animate__fadeOutRight");e.duration=i,e.apply()}),t.addEventListener("animationend",()=>{t.remove()})},this.draggable=function(t){let i=!1,e=0,n=0,a=!1;t.addEventListener("mousedown",o=>{o.preventDefault(),a=!0,n=o.pageX,this.GetTransformation(t),t.addEventListener("mousemove",o=>{if(o.preventDefault(),i=!0,!0===a&&!0===i){let i=e+o.clientX-n;this.HandleDragging(t,o,i)}window.addEventListener("mouseup",function(){a=!1,i=!1})}),t.addEventListener("touchmove",i=>{n=i.touches[0].pageX,console.log("touched"),this.GetTransformation(t);let a=e+i.touches[0].pageX;this.HandleDragging(t,i,a),t.addEventListener("touchend",function(){t.removeEventListener("touchmove",i,!1)},!1)},!1)})},this.HandleDragging=function(t,i,e){if(t.classList.remove("animate__animated","animate__fadeInUp"),t.style.transform=`translate3d(${e}px, 0, 0)`,e>0||e<0){let i=1;e<0?i+=e/100:i-=e/100,Math.abs(i)>1&&this.dismiss(t),console.log(`filter: opactiy(${i})`),t.style.filter=`opacity(${i})`}},this.GetTransformation=function(t){if(-1!==t.style.transform.indexOf("(")&&-1!==t.style.transform.indexOf(")")){var i=t.style.transform.split("(")[1].split(")")[0];elementPositionX=parseInt(i.split(",")[0].split("px")[0].trim()),elementPositionY=parseInt(i.split(",")[1].split("px")[0].trim())}else elementPositionY=0,elementPositionX=0},this.inject=function(t,i){!1===s.html?t.textContent=i:t.innerHTML=i},this.removeArrayValue=function(t){for(var i,e,n=arguments,a=n.length;a>1&&t.length;)for(i=n[--a];-1!==(e=t.indexOf(i));)t.splice(e,1);return t}}Array.prototype.removeArrayValue=function(){for(var t,i,e=arguments,n=e.length;n&&this.length;)for(t=e[--n];-1!==(i=this.indexOf(t));)this.splice(i,1);return this};const NotificationContainer=document.querySelector(".notification-container"),Notification=new Notify;
